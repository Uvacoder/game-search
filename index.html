<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/svg+xml" href="./assets/favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://fontlist.vercel.app/css?family=Inter:ital,wght@0,500;0,700;0,900;0,800;0,600;0,400&display=swap"
			rel="stylesheet"
		/>
		<title>FreeToGame Search</title>
	</head>
	<body>
		<div id="app" x-data="app">
			<h3 class="font-extrabold text-2xl my-4 text-center">
				Search Free-to-Play Games
			</h3>
			<form class="p-2 w-full" @submit.prevent="search">
				<input
					type="text"
					x-model="query"
					placeholder="Enter game info"
					class="
						h-11
						border-2 border-indigo-500
						py-2
						px-4
						font-semibold
						rounded-md
						outline-none
						focus:ring-2
						ring-indigo-400 ring-opacity-50 ring-offset-0
					"
				/>
				<button
					type="submit"
					class="
						h-11
						py-2
						px-4
						font-semibold
						rounded-md
						text-white
						bg-indigo-500
						hover:bg-indigo-600
						outline-none
						focus:ring-2
						ring-indigo-400 ring-opacity-50 ring-offset-0
					"
				>
					Search
				</button>
			</form>

			<hr class="mb-4" />

			<!-- List of Results -->
			<div class="w-11/12 flex items-start justify-start rounded-lg">
				<template x-for="(result, index) in results" :key="index">
					<!-- Result -->
					<a
						x-href="result.game_url"
						target="_blank"
						rel="noopener"
						class="
							w-84
							my-2
							mx-2
							min-h-28
							box-content
							border-2
							rounded-xl
							overflow-hidden
							flex flex-col
							items-start
							justify-start
							flex-shrink-0 flex-grow-0
							outline-none
							focus:ring-2
							ring-indigo-400 ring-opacity-50 ring-offset-0
						"
					>
						<img
							class="
								block
								w-full
								h-44
								object-cover
								rounded-t-lg
								bg-gray-100
								overflow-hidden
								flex-shrink-0 flex-grow-0
							"
							x-src="result.thumbnail"
							alt="Thumbnail"
						/>
						<div
							class="p-4 flex flex-col items-start justify-start"
						>
							<p
								class="font-bold text-lg text-left mb-2"
								x-text="result.title"
							></p>
							<p
								class="text-md text-left mb-2"
								x-text="result.short_description"
							></p>
							<div class="mb-2">
								<span
									class="
										float-left
										py-1
										px-3
										mr-1
										rounded-full
										text-xs
										bg-gray-200
										font-bold
									"
									title="result.platform"
									x-text="result.platform"
								></span>
								<span
									class="
										float-left
										py-1
										px-3
										mr-1
										rounded-full
										text-xs
										bg-gray-200
										font-bold
									"
									title="result.genre"
									x-text="result.genre"
								></span>
							</div>
							<table class="w-full mb-1">
								<tbody>
									<tr class="border-b-1 border-b-indigo-300">
										<td
											class="text-gray-500 text-left py-2"
										>
											Developer
										</td>
										<td
											class="text-right font-medium py-2"
											x-text="result.developer"
										></td>
									</tr>
									<tr class="border-b-1 border-b-indigo-300">
										<td
											class="text-gray-500 text-left py-2"
										>
											Publisher
										</td>
										<td
											class="text-right font-medium py-2"
											x-text="result.publisher"
										></td>
									</tr>
									<tr class="border-b-1 border-b-indigo-300">
										<td
											class="text-gray-500 text-left py-2"
										>
											Release Date
										</td>
										<td
											class="text-right font-medium py-2"
											x-text="result.release_date"
										></td>
									</tr>
								</tbody>
							</table>
						</div>
					</a>
				</template>
			</div>
		</div>
		<script type="module" src="/main.js"></script>
	</body>
</html>
